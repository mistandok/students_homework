version: '3'

# –ó–∞–¥–∞—á–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–æ–µ–∫—Ç–æ–º
tasks:
  
  init:
    desc: "üöÄ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞ - —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π"
    cmds:
      - echo "–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Å –ø–æ–º–æ—â—å—é uv..."
      - uv sync
      - echo "‚úÖ –ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ!"

  # –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
  
  test:
    desc: "üß™ –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞"
    cmds:
      - uv run pytest -v --tb=short

  test:strings:
    desc: "üî§ –¢–µ—Å—Ç—ã –∑–∞–¥–∞–Ω–∏–π –ø–æ —Å—Ç—Ä–æ–∫–∞–º (1_strings)"
    cmds:
      - uv run pytest 1_strings/1_two_string_array_equivalent/test_is_array_string_are_equal.py -v
      - uv run pytest 1_strings/2_sentence_is_pangram/test_is_sentence_is_pangram.py -v
      - uv run pytest 1_strings/3_maximum_number_of_words/test_get_max_number_of_words_from_sentences.py -v
      - uv run pytest 1_strings/4_safe_text/test_recover_article.py -v

  test:dicts:
    desc: "üìö –¢–µ—Å—Ç—ã –∑–∞–¥–∞–Ω–∏–π –ø–æ —Å–ª–æ–≤–∞—Ä—è–º (2_dicts)" 
    cmds:
      - uv run pytest 2_dicts/1_task/test_get_parsed_employees_info.py -v
      - uv run pytest 2_dicts/2_task/test_top_10_most_common_words.py -v
      - uv run pytest 2_dicts/3_task/test_format_phone.py -v

  test:functions:
    desc: "‚öôÔ∏è –¢–µ—Å—Ç—ã –∑–∞–¥–∞–Ω–∏–π –ø–æ —Ñ—É–Ω–∫—Ü–∏—è–º (3_functions)"
    cmds:
      - uv run pytest 3_functions/1_phone_text_code/decode/test_decode.py -v
      - uv run pytest 3_functions/1_phone_text_code/encode/test_encode.py -v
      - uv run pytest 3_functions/2_functional_programming/test_calculator.py -v

  test:decorators:
    desc: "üé≠ –¢–µ—Å—Ç—ã –∑–∞–¥–∞–Ω–∏–π –ø–æ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–∞–º (4_decorators)"
    cmds:
      - uv run pytest 4_decorators/retry/test_retry.py -v

  test:iterators:
    desc: "üîÑ –¢–µ—Å—Ç—ã –∑–∞–¥–∞–Ω–∏–π –ø–æ –∏—Ç–µ—Ä–∞—Ç–æ—Ä–∞–º (5_iterators)"
    cmds:
      - uv run pytest 5_iterators/self_batched/test_self_batched.py -v
      - uv run pytest 5_iterators/self_chain/test_self_chain.py -v
      - uv run pytest 5_iterators/self_cycle/test_self_cycle.py -v

  test:classes:
    desc: "üèõÔ∏è –¢–µ—Å—Ç—ã –∑–∞–¥–∞–Ω–∏–π –ø–æ –∫–ª–∞—Å—Å–∞–º (6_classes)"
    cmds:
      - uv run pytest 6_classes/1_metrics/test_metrics.py -v

  test:final:
    desc: "üéØ –¢–µ—Å—Ç—ã —Ñ–∏–Ω–∞–ª—å–Ω–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è (7_final_task)"
    cmds:
      - echo "–§–∏–Ω–∞–ª—å–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ –ø–æ–∫–∞ –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤"
      - echo "–°–º. –æ–ø–∏—Å–∞–Ω–∏–µ –≤ 7_final_task/weather_task.md"

  # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞

  lint:
    desc: "üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞ –ª–∏–Ω—Ç–µ—Ä–æ–º"
    cmds:
      - uv run ruff check .

  format:
    desc: "‚ú® –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞"
    cmds:
      - uv run ruff format .

  check:
    desc: "üîç –ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞ (–ª–∏–Ω—Ç–µ—Ä + —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)"
    cmds:
      - uv run ruff check .
      - uv run ruff format --check .

  default:
    desc: "üìã –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É"
    cmds:
      - echo "=== üéì –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã ==="
      - echo "task init           - –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—Ä–æ–µ–∫—Ç"
      - echo "task test           - –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Ç–µ—Å—Ç—ã"
      - echo "task test:strings   - –¢–µ—Å—Ç—ã –ø–æ —Å—Ç—Ä–æ–∫–∞–º"
      - echo "task test:dicts     - –¢–µ—Å—Ç—ã –ø–æ —Å–ª–æ–≤–∞—Ä—è–º"
      - echo "task test:functions - –¢–µ—Å—Ç—ã –ø–æ —Ñ—É–Ω–∫—Ü–∏—è–º"
      - echo "task lint           - –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–Ω—Ç–µ—Ä–æ–º"
      - echo "task format         - –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞"
      - echo "task check          - –ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞"
      - echo ""
      - echo "–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è ./docs/"