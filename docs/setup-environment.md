# Настройка окружения разработки

## Установка uv

**uv** — это современный, быстрый менеджер пакетов Python, написанный на Rust. Он в 10-100 раз быстрее традиционных инструментов типа pip и заменяет собой pip, pip-tools, pipx, poetry, pyenv, virtualenv и другие.

### Установка uv на разных платформах

#### macOS и Linux

Рекомендуемый способ установки — через официальный установщик:

```bash
curl -LsSf https://astral.sh/uv/install.sh | sh
```

#### Windows

Для Windows используйте PowerShell:

```powershell
powershell -ExecutionPolicy ByPass -c "irm https://astral.sh/uv/install.ps1 | iex"
```

#### Альтернативные способы установки

Если предпочитаете устанавливать через pip:

```bash
# Рекомендуется с pipx для изоляции
pipx install uv

# Или с обычным pip
pip install uv
```

### Проверка установки

После установки проверьте, что uv доступен:

```bash
uv --version
```

## Настройка проекта

### 1. Клонирование репозитория

Сначала склонируйте исходный репозиторий с заданиями:

```bash
git clone https://github.com/mistandok/students_homework.git
cd students_homework
```

### 2. Автоматическая настройка окружения

uv автоматически создаст виртуальное окружение и установит все зависимости:

```bash
# Синхронизация зависимостей и создание виртуального окружения
uv sync
```

Эта команда:
- Создаст виртуальное окружение `.venv` в корне проекта
- Установит все зависимости из `pyproject.toml`
- Заблокирует версии зависимостей в `uv.lock`

### 3. Проверка установки

Проверьте, что все работает корректно:

```bash
# Проверить версию Python в окружении
uv run python --version

# Запустить линтер
uv run ruff check .

# Запустить тесты (многие будут падать - это нормально для начала)
uv run pytest --tb=short
```

## Основные команды uv для работы с проектом

### Управление зависимостями

```bash
# Добавить новую зависимость
uv add package_name

# Добавить зависимость для разработки
uv add --dev package_name

# Удалить зависимость
uv remove package_name

# Обновить зависимости
uv sync
```

### Выполнение команд

```bash
# Запустить Python скрипт в окружении
uv run python script.py

# Запустить любую команду в окружении
uv run command

# Запустить интерактивный Python
uv run python
```

### Управление версиями Python

```bash
# Показать доступные версии Python
uv python list

# Установить конкретную версию Python
uv python install 3.12

# Использовать конкретную версию для проекта
uv python pin 3.12
```

## Интеграция с IDE

### Visual Studio Code

1. Откройте проект в VS Code
2. VS Code автоматически обнаружит виртуальное окружение в `.venv`
3. Если нет, нажмите `Ctrl+Shift+P` (или `Cmd+Shift+P` на macOS)
4. Введите "Python: Select Interpreter"
5. Выберите интерпретатор из папки `.venv/bin/python` (или `.venv\Scripts\python.exe` на Windows)

### PyCharm

1. Откройте проект в PyCharm
2. Перейдите в File → Settings → Project → Python Interpreter
3. Нажмите на шестеренку → Add
4. Выберите "Existing environment"
5. Укажите путь к интерпретатору: `.venv/bin/python`

## Преимущества uv

- **Скорость**: В 10-100 раз быстрее pip
- **Надежность**: Лучшее разрешение зависимостей
- **Простота**: Один инструмент для всех задач
- **Кэширование**: Глобальный кэш пакетов экономит место на диске
- **Совместимость**: Полная совместимость с существующим Python экосистемой

## Troubleshooting

### Ошибки импорта при запуске тестов

Это нормально! Многие модули содержат только заглушки функций, которые вам нужно реализовать. По мере выполнения заданий тесты начнут проходить.

### Проблемы с производительностью

uv может быть медленным при первом запуске из-за создания кэша. Последующие операции будут значительно быстрее.